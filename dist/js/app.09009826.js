(function(e){function t(t){for(var o,r,i=t[0],s=t[1],c=t[2],u=0,p=[];u<i.length;u++)r=i[u],l[r]&&p.push(l[r][0]),l[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var s=n[i];0!==l[s]&&(o=!1)}o&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},l={app:0},a=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/interactive-syntax-tree/dist/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"344e":function(e,t,n){"use strict";var o=n("aae2"),l=n.n(o);l.a},5022:function(e,t,n){},5459:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var o=n("2b0e"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],r=n("2877"),i={},s=Object(r["a"])(i,l,a,!1,null,null,null);s.options.__file="App.vue";var c=s.exports,d=n("8c4f"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("interactive-syntax-tree")],1)},p=[],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-main",[n("d3-tree")],1)],1)},f=[],m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{xs:12,md:14,lg:16,xl:18}},[n("svg",{attrs:{id:"d3-tree-overlay",width:e.width,height:e.height}},[n("defs",[n("marker",{attrs:{id:"arrow",markerUnits:"strokeWidth",markerWidth:"5",markerHeight:"5",viewBox:"0 0 10 10",refX:"17",refY:"4.5",orient:"auto"}},[n("path",{staticStyle:{fill:"#000"},attrs:{d:"M0,0 L10,5 L0,10 L5,5"}})])])]),e.debug?n("sentence-tree",{ref:"sentence",attrs:{height:"30vh",width:"100%"},on:{sentenceClick:e.sentenceClick}}):e._e()],1),n("el-col",{attrs:{xs:12,md:10,lg:8,xl:6}},[n("control-panel",{ref:"control",attrs:{"selected-node":e.selectedNode},on:{toggleDebug:e.toggleDebug,changeIntent:e.update,appendIntent:e.appendIntent,unclick:e.unclick,createNode:e.create,upload:e.load,uploadSentence:e.uploadSentence,download:e.download,copyTree:e.copyTree,deleteNode:e.deleteNode}})],1)],1)},g=[],v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-tabs",{attrs:{type:"border-card"},on:{"tab-remove":e.unclick},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[n("el-tab-pane",{attrs:{name:"menu"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-menu"}),e._v(" Menu")]),n("el-scrollbar",[n("control-menu",{staticClass:"tab-scroll",on:{toggleDebug:e.toggleDebug,createNode:e.createNode,upload:e.upload,uploadSentence:e.uploadSentence,download:e.download}})],1)],1),e.selectedNode?n("el-tab-pane",{attrs:{closable:"",name:"setting"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-setting"}),e._v(" Setting")]),n("el-scrollbar",[n("control-setting",{staticClass:"tab-scroll",attrs:{"selected-node":e.selectedNode},on:{changeIntent:e.changeIntent,appendIntent:e.appendIntent,copyTree:e.copyTree,deleteNode:e.deleteNode}})],1)],1):e._e()],1)},b=[],y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-collapse",{staticClass:"tab-scroll",attrs:{accordion:"",value:"download"}},[n("el-collapse-item",{attrs:{name:"create",title:"Create Node"}},[n("control-menu-create",{on:{create:e.createNode}})],1),n("el-collapse-item",{attrs:{name:"upload",title:"Upload JSON"}},[n("control-menu-upload",{on:{upload:e.upload}})],1),n("el-collapse-item",{attrs:{name:"download",title:"Download JSON"}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.download}},[e._v("Download Syntax Tree JSON"),n("i",{staticClass:"el-icon-download el-icon--right"})])],1)],1),n("el-collapse-item",{attrs:{name:"debug",title:"Debug"}},[n("el-row",{attrs:{type:"flex",justify:"end"}},[n("el-col",{attrs:{span:23}},[n("el-form",{attrs:{"label-position":"top"}},[n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.debug,expression:"!debug"}],attrs:{label:"Debug Mode"}},[n("el-switch",{on:{change:e.toggleDebug},model:{value:e.debug,callback:function(t){e.debug=t},expression:"debug"}})],1),n("el-form-item",{attrs:{label:"Sentence"}},[n("control-menu-upload",{on:{upload:e.uploadSentence}})],1)],1)],1)],1)],1)],1)},N=[],x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{"label-width":"70px"}},[n("el-row",{attrs:{type:"flex",justify:"end"}},[n("el-col",{attrs:{span:23}},[n("el-collapse",{attrs:{value:["common","advanced","create"]}},[n("el-collapse-item",{attrs:{name:"common",title:"Common Settings"}},[n("el-form-item",{attrs:{label:"Type"}},[n("el-select",{attrs:{placeholder:"Type"},model:{value:e.newNode.type,callback:function(t){e.$set(e.newNode,"type",t)},expression:"newNode.type"}},[n("el-option",{attrs:{value:"order"}}),n("el-option",{attrs:{value:"pickone"}}),n("el-option",{attrs:{value:"exchangeable"}}),n("el-option",{attrs:{value:"content"}})],1)],1),n("el-form-item",{attrs:{label:"Name"}},[n("el-input",{attrs:{placeholder:"Name",clearable:""},model:{value:e.newNode.name,callback:function(t){e.$set(e.newNode,"name",t)},expression:"newNode.name"}})],1),n("el-form-item",{attrs:{label:"Dropout"}},[n("el-slider",{attrs:{min:0,max:1,step:.01,"show-input":""},model:{value:e.newNode.dropout,callback:function(t){e.$set(e.newNode,"dropout",t)},expression:"newNode.dropout"}})],1),n("el-form-item",{attrs:{label:"Weight"}},[n("el-input-number",{attrs:{precision:2,step:.01,min:0},model:{value:e.newNode.weight,callback:function(t){e.$set(e.newNode,"weight",t)},expression:"newNode.weight"}})],1)],1),e.newNode.type?n("el-collapse-item",{attrs:{name:"advanced",title:"Advanced Settings"}},["content"===e.newNode.type?n("el-row",[n("el-form-item",{attrs:{label:"FromFile"}},[n("el-switch",{model:{value:e.newNode.from_file,callback:function(t){e.$set(e.newNode,"from_file",t)},expression:"newNode.from_file"}})],1),e.newNode.from_file?n("el-form-item",{attrs:{label:"Filename"}},[n("el-input",{attrs:{placeholder:"Filename",clearable:""},model:{value:e.newNode.filename,callback:function(t){e.$set(e.newNode,"filename",t)},expression:"newNode.filename"}})],1):n("el-form-item",{attrs:{label:"Content"}},[n("tag-editor",{attrs:{tags:e.newNode.content}})],1),e.newNode.entity?n("el-form-item",{attrs:{label:"Entity"}},[n("el-input",{attrs:{placeholder:"Entity",clearable:""},model:{value:e.newNode.entity,callback:function(t){e.$set(e.newNode,"entity",t)},expression:"newNode.entity"}})],1):e._e(),n("el-form-item",{attrs:{label:"Cut"}},[n("el-slider",{attrs:{min:0,max:1,step:.01,"show-input":""},model:{value:e.newNode.cut,callback:function(t){e.$set(e.newNode,"cut",t)},expression:"newNode.cut"}})],1),e.newNode.cut&&e.newNode.cut>0?n("el-form-item",{attrs:{label:"WordCut"}},[n("el-slider",{attrs:{min:0,max:1,step:.01,"show-input":""},model:{value:e.newNode.word_cut,callback:function(t){e.$set(e.newNode,"word_cut",t)},expression:"newNode.word_cut"}})],1):e._e()],1):e._e()],1):e._e(),e.newNode.type?n("el-collapse-item",{attrs:{name:"create",title:"Create Node"}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{attrs:{type:"success"},on:{click:e.create}},[e._v("Create"),n("i",{staticClass:"el-icon-success el-icon--right"})])],1)],1):e._e()],1)],1)],1)],1)},_=[],w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._l(e.tags,function(t){return n("el-tag",{key:t,attrs:{"disable-transitions":!1,closable:""},on:{close:function(n){e.handleClose(t)}}},[e._v("\n    "+e._s(t)+"\n  ")])}),e.inputVisible?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleInputConfirm(t):null}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):n("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ New Tag")])],2)},$=[],k={name:"TagEditor",props:{tags:{type:Array,default:[]}},data:function(){return{inputVisible:!1,inputValue:""}},methods:{handleClose:function(e){this.tags.splice(this.tags.indexOf(e),1)},showInput:function(){this.inputVisible=!0,this.$nextTick(()=>{this.$refs.saveTagInput.$refs.input.focus()})},handleInputConfirm:function(){const e=this.inputValue;e&&this.tags.push(e),this.inputVisible=!1,this.inputValue=""}}},C=k,S=(n("ab55"),Object(r["a"])(C,w,$,!1,null,"c3ba9664",null));S.options.__file="tag-editor.vue";var T=S.exports,j={name:"ControlMenuCreate",components:{TagEditor:T},data:function(){return{newNode:{content:[]}}},methods:{create:function(){this.$emit("create",this.newNode),this.newNode={content:[]}}}},O=j,I=Object(r["a"])(O,x,_,!1,null,null,null);I.options.__file="control-menu-create.vue";var E=I.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{span:22}},[n("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{"on-change":e.load,"auto-upload":!1,drag:"",action:"#",multiple:""}},[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[e._v("Drag and drop json files there, or "),n("em",[e._v("click")]),e._v(" to upload")])])],1)],1)},L=[],A={name:"ControlMenuUpload",methods:{load:function(e){const t=new FileReader;t.onload=(e=>{try{const t=JSON.parse(e.target.result);this.$emit("upload",t)}catch(e){return}}),t.readAsText(e.raw),this.$refs.upload.clearFiles()}}},M=A,W=Object(r["a"])(M,D,L,!1,null,null,null);W.options.__file="control-menu-upload.vue";var P=W.exports,F={name:"ControlMenu",components:{ControlMenuCreate:E,ControlMenuUpload:P},data:function(){return{newNode:{},debug:!1}},methods:{toggleDebug:function(){this.$emit("toggleDebug",this.debug)},createNode:function(e){this.$emit("createNode",e)},download:function(){this.$emit("download")},upload:function(e){this.$emit("upload",e)},uploadSentence:function(e){this.$emit("uploadSentence",e)}}},V=F,G=Object(r["a"])(V,y,N,!1,null,null,null);G.options.__file="control-menu.vue";var R=G.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{"label-width":"70px"}},["root"===e.selectedNode.data.type?n("control-setting-root",{attrs:{"selected-node":e.selectedNode},on:{changeIntent:e.changeIntent,appendIntent:e.appendIntent}}):e._e(),"holder"===e.selectedNode.data.type?n("control-setting-holder",{attrs:{"selected-node":e.selectedNode}}):e._e(),"intent"===e.selectedNode.data.type?n("control-setting-intent",{attrs:{"selected-node":e.selectedNode},on:{deleteNode:e.deleteNode}}):e._e(),e.selectedNode.data.type in{order:1,pickone:2,exchangeable:3}?n("control-setting-control",{attrs:{"selected-node":e.selectedNode},on:{copyTree:e.copyTree,deleteNode:e.deleteNode}}):e._e(),"content"===e.selectedNode.data.type?n("control-setting-content",{attrs:{"selected-node":e.selectedNode},on:{copyTree:e.copyTree,deleteNode:e.deleteNode}}):e._e()],1)},z=[],H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-collapse",{attrs:{value:["common","intent"]}},[n("el-collapse-item",{attrs:{name:"common",title:"Root Status"}},[n("el-form-item",{attrs:{label:"Type"}},[n("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.selectedNode.data.type))])],1),n("el-form-item",{attrs:{label:"Childrens"}},[n("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.childrenLength))])],1)],1),n("el-collapse-item",{attrs:{name:"intent",title:"Intent Settings"}},[n("el-form",{attrs:{"label-width":"70px"}},[n("el-row",{attrs:{type:"flex",justify:"end"}},[n("el-col",{attrs:{span:23}},[n("el-collapse",{attrs:{value:["list","append"]}},[n("el-collapse-item",{attrs:{name:"list",title:"Intent List"}},[n("el-table",{ref:"table",attrs:{data:(e.selectedNode.children||e.selectedNode._children).slice(1),stripe:!0,border:""}},[n("el-table-column",{attrs:{prop:"data.intent",label:"Intent"}}),n("el-table-column",{attrs:{prop:"data.weight",label:"Weight"}}),n("el-table-column",{attrs:{label:"Option",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{disabled:t.$index<=0,size:"mini",type:"success",icon:"el-icon-upload2",circle:""},on:{click:function(n){e.itemUp(t.$index)}}}),n("el-button",{attrs:{disabled:t.$index>=e.childrenLength-2,size:"mini",type:"success",icon:"el-icon-download",circle:""},on:{click:function(n){e.itemDown(t.$index)}}})]}}])})],1)],1),n("el-collapse-item",{attrs:{name:"append",title:"Append Intent"}},[n("el-form-item",{attrs:{label:"Intent"}},[n("el-input",{attrs:{placeholder:"Intent"},model:{value:e.intent.intent,callback:function(t){e.$set(e.intent,"intent",t)},expression:"intent.intent"}})],1),n("el-form-item",{attrs:{label:"Weight"}},[n("el-input-number",{attrs:{precision:2,step:.01,min:0},model:{value:e.intent.weight,callback:function(t){e.$set(e.intent,"weight",t)},expression:"intent.weight"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.appendIntent}},[e._v("Append"),n("i",{staticClass:"el-icon-circle-plus-outline el-icon--right"})])],1)],1)],1)],1)],1)],1)],1)],1)},J=[],B={name:"ControlSettingRoot",props:{selectedNode:{type:Object,default:void 0}},data:function(){return{intent:{type:"intent",weight:1}}},computed:{childrenLength:function(){return void 0===this.selectedNode.children&&void 0===this.selectedNode._children?0:(this.selectedNode.children||this.selectedNode._children).length}},methods:{itemUp:function(e){if(e>0){const t=this.selectedNode.children[e];this.$set(this.selectedNode.children,e,this.selectedNode.children[e+1]),this.$set(this.selectedNode.children,e+1,t),this.$emit("changeIntent")}},itemDown:function(e){e<this.childrenLength-2&&this.itemUp(e+1)},appendIntent:function(){this.$emit("appendIntent",this.intent),this.intent={type:"intent"}}}},q=B,X=Object(r["a"])(q,H,J,!1,null,null,null);X.options.__file="control-setting-root.vue";var Y=X.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-collapse",{attrs:{value:"common"}},[n("el-collapse-item",{attrs:{name:"common",title:"Holder Status"}},[n("el-form-item",{attrs:{label:"Type"}},[n("el-tag",{attrs:{type:"warning"}},[e._v(e._s(e.selectedNode.data.type))])],1),n("el-form-item",{attrs:{label:"Childrens"}},[n("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.childrenLength))])],1)],1)],1)},Q=[],Z={name:"ControlSettingHolder",props:{selectedNode:{type:Object,default:void 0}},computed:{childrenLength:function(){return void 0===this.selectedNode.children&&void 0===this.selectedNode._children?0:(this.selectedNode.children||this.selectedNode._children).length}}},ee=Z,te=Object(r["a"])(ee,K,Q,!1,null,null,null);te.options.__file="control-setting-holder.vue";var ne=te.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-collapse",{attrs:{value:"common"}},[n("el-collapse-item",{attrs:{name:"common",title:"Common Settings"}},[n("el-form-item",{attrs:{label:"Type"}},[n("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.selectedNode.data.type))])],1),n("el-form-item",{attrs:{label:"Childrens"}},[n("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.childrenLength))])],1),n("el-form-item",{attrs:{label:"Intent"}},[n("el-input",{attrs:{placeholder:"Intent",clearable:""},model:{value:e.selectedNode.data.intent,callback:function(t){e.$set(e.selectedNode.data,"intent",t)},expression:"selectedNode.data.intent"}})],1),n("el-form-item",{attrs:{label:"Weight"}},[n("el-input-number",{attrs:{precision:2,step:.01,min:0},model:{value:e.selectedNode.data.weight,callback:function(t){e.$set(e.selectedNode.data,"weight",t)},expression:"selectedNode.data.weight"}})],1)],1),n("el-collapse-item",{attrs:{name:"delete",title:"Delete Intent"}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{attrs:{type:"danger"},on:{click:e.deleteNode}},[e._v("Delete"),n("i",{staticClass:"el-icon-warning el-icon--right"})])],1)],1)],1)},le=[],ae={name:"ControlSettingIntent",props:{selectedNode:{type:Object,default:void 0}},computed:{childrenLength:function(){return void 0===this.selectedNode.children&&void 0===this.selectedNode._children?0:(this.selectedNode.children||this.selectedNode._children).length}},methods:{deleteNode:function(){this.$emit("deleteNode")}}},re=ae,ie=Object(r["a"])(re,oe,le,!1,null,null,null);ie.options.__file="control-setting-intent.vue";var se=ie.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-collapse",{attrs:{value:["common"]}},[n("el-collapse-item",{attrs:{name:"common",title:"Common Settings"}},[n("el-form-item",{attrs:{label:"Type"}},[n("el-radio-group",{model:{value:e.selectedNode.data.type,callback:function(t){e.$set(e.selectedNode.data,"type",t)},expression:"selectedNode.data.type"}},[n("el-radio-button",{staticClass:"order",attrs:{label:"order"}}),n("el-radio-button",{staticClass:"pickone",attrs:{label:"pickone"}}),n("el-radio-button",{staticClass:"exchangeable",attrs:{label:"exchangeable"}})],1)],1),n("el-form-item",{attrs:{label:"Childrens"}},[n("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.childrenLength))])],1),n("el-form-item",{attrs:{label:"Name"}},[n("el-input",{attrs:{placeholder:"Name",clearable:""},model:{value:e.selectedNode.data.name,callback:function(t){e.$set(e.selectedNode.data,"name",t)},expression:"selectedNode.data.name"}})],1),n("el-form-item",{attrs:{label:"Dropout"}},[n("el-slider",{attrs:{min:0,max:1,step:.01,"show-input":""},model:{value:e.selectedNode.data.dropout,callback:function(t){e.$set(e.selectedNode.data,"dropout",t)},expression:"selectedNode.data.dropout"}})],1),n("el-form-item",{attrs:{label:"Weight"}},[n("el-input-number",{attrs:{precision:2,step:.01,min:0},model:{value:e.selectedNode.data.weight,callback:function(t){e.$set(e.selectedNode.data,"weight",t)},expression:"selectedNode.data.weight"}})],1)],1),n("el-collapse-item",{attrs:{name:"copy",title:"Copy Tree"}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{attrs:{type:"warning"},on:{click:e.copyTree}},[e._v("Copy"),n("i",{staticClass:"el-icon-info el-icon--right"})])],1)],1),n("el-collapse-item",{attrs:{name:"delete",title:"Delete Node"}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{attrs:{type:"danger"},on:{click:e.deleteNode}},[e._v("Delete"),n("i",{staticClass:"el-icon-warning el-icon--right"})])],1)],1)],1)},de=[],ue={name:"ControlSettingControl",props:{selectedNode:{type:Object,default:void 0}},computed:{childrenLength:function(){return void 0===this.selectedNode.children&&void 0===this.selectedNode._children?0:(this.selectedNode.children||this.selectedNode._children).length}},methods:{copyTree:function(){this.$emit("copyTree")},deleteNode:function(){this.$emit("deleteNode")}}},pe=ue,he=(n("d55f"),Object(r["a"])(pe,ce,de,!1,null,null,null));he.options.__file="control-setting-control.vue";var fe=he.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-collapse",{attrs:{value:["common","content"]}},[n("el-collapse-item",{attrs:{name:"common",title:"Common Settings"}},[n("el-form-item",{attrs:{label:"Type"}},[n("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.selectedNode.data.type))])],1),n("el-form-item",{attrs:{label:"Childrens"}},[n("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.childrenLength))])],1),n("el-form-item",{attrs:{label:"Name"}},[n("el-input",{attrs:{placeholder:"Name",clearable:""},model:{value:e.selectedNode.data.name,callback:function(t){e.$set(e.selectedNode.data,"name",t)},expression:"selectedNode.data.name"}})],1),n("el-form-item",{attrs:{label:"Dropout"}},[n("el-slider",{attrs:{min:0,max:1,step:.01,"show-input":""},model:{value:e.selectedNode.data.dropout,callback:function(t){e.$set(e.selectedNode.data,"dropout",t)},expression:"selectedNode.data.dropout"}})],1),n("el-form-item",{attrs:{label:"Weight"}},[n("el-input-number",{attrs:{precision:2,step:.01,min:0},model:{value:e.selectedNode.data.weight,callback:function(t){e.$set(e.selectedNode.data,"weight",t)},expression:"selectedNode.data.weight"}})],1)],1),n("el-collapse-item",{attrs:{name:"content",title:"Content Settings"}},[n("el-form-item",{attrs:{label:"FromFile"}},[n("el-switch",{model:{value:e.selectedNode.data.from_file,callback:function(t){e.$set(e.selectedNode.data,"from_file",t)},expression:"selectedNode.data.from_file"}})],1),e.selectedNode.data.from_file?n("el-form-item",{attrs:{label:"Filename"}},[n("el-input",{attrs:{placeholder:"Filename",clearable:""},model:{value:e.selectedNode.data.filename,callback:function(t){e.$set(e.selectedNode.data,"filename",t)},expression:"selectedNode.data.filename"}})],1):n("el-form-item",{attrs:{label:"Content"}},[n("tag-editor",{attrs:{tags:e.selectedNode.data.content}})],1),e.selectedNode.data.entity?n("el-form-item",{attrs:{label:"Entity"}},[n("el-input",{attrs:{placeholder:"Entity",clearable:""},model:{value:e.selectedNode.data.entity,callback:function(t){e.$set(e.selectedNode.data,"entity",t)},expression:"selectedNode.data.entity"}})],1):e._e(),n("el-form-item",{attrs:{label:"Cut"}},[n("el-slider",{attrs:{min:0,max:1,step:.01,"show-input":""},model:{value:e.selectedNode.data.cut,callback:function(t){e.$set(e.selectedNode.data,"cut",t)},expression:"selectedNode.data.cut"}})],1),e.selectedNode.data.cut&&e.selectedNode.data.cut>0?n("el-form-item",{attrs:{label:"WordCut"}},[n("el-slider",{attrs:{min:0,max:1,step:.01,"show-input":""},model:{value:e.selectedNode.data.word_cut,callback:function(t){e.$set(e.selectedNode.data,"word_cut",t)},expression:"selectedNode.data.word_cut"}})],1):e._e()],1),n("el-collapse-item",{attrs:{name:"copy",title:"Copy Tree"}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{attrs:{type:"warning"},on:{click:e.copyTree}},[e._v("Copy"),n("i",{staticClass:"el-icon-info el-icon--right"})])],1)],1),n("el-collapse-item",{attrs:{name:"delete",title:"Delete Node"}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-button",{attrs:{type:"danger"},on:{click:e.deleteNode}},[e._v("Delete"),n("i",{staticClass:"el-icon-warning el-icon--right"})])],1)],1)],1)},ge=[],ve={name:"ControlSettingContent",components:{TagEditor:T},props:{selectedNode:{type:Object,default:void 0}},computed:{childrenLength:function(){return void 0===this.selectedNode.children&&void 0===this.selectedNode._children?0:(this.selectedNode.children||this.selectedNode._children).length}},methods:{copyTree:function(){this.$emit("copyTree")},deleteNode:function(){this.$emit("deleteNode")}}},be=ve,ye=Object(r["a"])(be,me,ge,!1,null,null,null);ye.options.__file="control-setting-content.vue";var Ne=ye.exports,xe={name:"ControlSetting",components:{ControlSettingRoot:Y,ControlSettingHolder:ne,ControlSettingIntent:se,ControlSettingControl:fe,ControlSettingContent:Ne},props:{selectedNode:{type:Object,default:void 0}},methods:{changeIntent:function(){this.$emit("changeIntent")},appendIntent:function(e){this.$emit("appendIntent",e)},copyTree:function(){this.$emit("copyTree")},deleteNode:function(){this.$emit("deleteNode")}}},_e=xe,we=Object(r["a"])(_e,U,z,!1,null,null,null);we.options.__file="control-setting.vue";var $e=we.exports,ke={name:"ControlPanel",components:{ControlMenu:R,ControlSetting:$e},props:{selectedNode:{type:Object,default:void 0},debug:{type:Boolean,default:!1}},data:function(){return{tabs:"menu"}},methods:{toggleDebug:function(e){this.$emit("toggleDebug",e)},changeIntent:function(){this.$emit("changeIntent")},appendIntent:function(e){this.$emit("appendIntent",e)},showSetting:function(){this.tabs="setting"},unclick:function(){this.tabs="menu",this.$emit("unclick")},createNode:function(e){this.$emit("createNode",e)},upload:function(e){this.$emit("upload",e)},uploadSentence:function(e){this.$emit("uploadSentence",e)},download:function(){this.$emit("download")},copyTree:function(){this.$emit("copyTree")},deleteNode:function(){this.$emit("deleteNode")}}},Ce=ke,Se=(n("7110"),Object(r["a"])(Ce,v,b,!1,null,null,null));Se.options.__file="control-panel.vue";var Te=Se.exports,je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{id:"sentence-tree-overlay",width:e.width,height:e.height}})},Oe=[],Ie=n("5698"),Ee={baseSvg:void 0,svgGroup:void 0,data:{index:0,type:"root"},root:void 0,selectedNode:void 0,duration:750,margin:50};const De=Ie["f"]().x(function(e){return e.x}).y(function(e){return e.y});var Le=De,Ae=function(e,t){let n=Ee.root;const o=Ee.margin,l=Ee.baseSvg.node().clientHeight-2*o,a=Ee.baseSvg.node().clientWidth,r=Ee.svgGroup.attr("transform",`translate(0, ${o})`),i=Ee.duration,s=n.descendants(),c=n.links(),d=Ie["a"]().size([a,l]);n=d(n);const u=r.selectAll("g.node").data(s,function(e){return e.data.index}),p=u.enter().append("g").attr("transform",function(){return`translate(${e.x0}, ${e.y0})`});p.append("circle").attr("r",0),p.append("text").style("fill-opacity",0);let h=p.merge(u).attr("class",function(e){return`node ${e.data.type}`}).on("click",t.sentenceClick);h.filter(function(e){return null===e.parent}).append("text").text(`intent: ${Ee.data.children[0].intent}`).attr("dy",-20).attr("class","text"),h.select("text").text(function(e){return e.data.text||e.data.name||e.data.type}).attr("dy",function(e){return e.children?-8:16}).attr("class","text"),h=h.transition().duration(i).attr("transform",function(e){return`translate(${e.x}, ${e.y})`}),h.select("circle").attr("r",5),h.select("text").style("fill-opacity",1);const f=u.exit().transition().duration(i).attr("transform",function(){return`translate(${e.x}, ${e.y})`}).remove();f.select("circle").attr("r",0),f.select("text").style("fill-opacity",0);const m=r.selectAll("path.link").data(c,function(e){return e.target.data.index}),g=m.enter().insert("path","g").attr("d",function(){const t={x:e.x0,y:e.y0};return Le({source:t,target:t})});g.merge(m).attr("class",function(e){let t=!1;return e.source.ancestors().forEach(e=>{t|=e.data.index===Ee.selectedNode}),`link${t?" selected":""}`}).transition().duration(i).attr("d",Le),m.exit().transition().duration(i).attr("d",function(){const t={x:e.x,y:e.y};return Le({source:t,target:t})}).remove()},Me={name:"SentenceTree",props:{width:{type:String,default:"100%"},height:{type:String,default:"100vh"}},mounted:function(){Ee.baseSvg=Ie["j"]("#sentence-tree-overlay"),Ee.svgGroup=Ee.baseSvg.append("g"),this.load(Ee.data)},methods:{load:function(e){Ee.data=e,void 0!==e.children&&(Ee.root=Ie["d"](Ee.data.children[0].children[0]),Ee.root.x0=Ee.baseSvg.node().clientWidth/2,Ee.root.y0=-.8*Ee.baseSvg.node().clientHeight,Ae(Ee.root,this))},sentenceClick:function(e){Ee.selectedNode===e.data.index?Ee.selectedNode=void 0:Ee.selectedNode=e.data.index,this.$emit("sentenceClick",Ee.data,Ee.selectedNode),Ae(Ee.root,this)}}},We=Me,Pe=(n("b08b"),Object(r["a"])(We,je,Oe,!1,null,null,null));Pe.options.__file="sentence-tree.vue";var Fe=Pe.exports,Ve={index:0,baseSvg:void 0,svgGroup:void 0,route:[],debugRoot:void 0,root:{type:"root",children:[{type:"holder"}]},duration:750,panBoundary:50};const Ge=Ie["m"]().scaleExtent([.5,4]).on("zoom",()=>{Ve.svgGroup.attr("transform",Ie["c"].transform)});var Re=Ge,Ue=n("1157"),ze=n.n(Ue),He=function(e){Ve.baseSvg.transition().duration(Ve.duration).call(Re.translateTo,e.y0,e.x0).transition().call(Re.scaleTo,2)},Je=function(e){e._children&&(e.children=e._children,delete e._children)};const Be=Ie["e"]().x(function(e){return e.y}).y(function(e){return e.x});var qe=Be;let Xe,Ye,Ke,Qe;function Ze(e,t){const n=Ve.svgGroup;Ye=e,Ie["j"](t).classed("activeDrag",!0).select(".ghostCircle").attr("pointer-events","none"),Ie["k"](".ghostCircle").attr("class","ghostCircle show"),n.selectAll("g.node").sort(function(e){return e.id!==Ye.id?1:-1});const o=Ye.descendants();if(o.length>1){const e=Ye.links();n.selectAll("path.link").data(e,function(e){return e.target.id}).remove(),n.selectAll("g.node").data(o.slice(1),function(e){return e.id}).remove()}n.selectAll("path.link").filter(function(e){return e.target.id===Ye.id}).remove(),Xe=void 0}function et(){let e=[];void 0!==Ye&&void 0!==Ke&&(e=[{source:{x:Ke.x0,y:Ke.y0},target:{x:Ye.x0,y:Ye.y0}}]);const t=Ve.svgGroup.selectAll(".tempLink").data(e);t.enter().append("path").attr("class","tempLink").attr("d",qe).attr("pointer-events","none"),t.attr("d",qe),t.exit().remove()}function tt(e,t){clearTimeout(Qe);let n=0,o=0;switch(e){case"left":n=+t;break;case"right":n=-t;break;case"up":o=+t;break;case"down":o=-t;break;default:break}Ve.baseSvg.transition().duration(50).call(Re.translateBy,n,o),Qe=setTimeout(function(){tt(e,t)},50)}function nt(e){Ke=void 0,Ie["k"](".ghostCircle").attr("class","ghostCircle"),Ie["j"](e).classed("activeDrag",!1).select(".ghostCircle").attr("pointer-events",""),et(),void 0!==Ye&&(ct(Ye.parent),He(Ye),Ye=void 0)}function ot(e){Ke=e,et()}function lt(){Ke=void 0,et()}const at=Ie["b"]().on("start",function(){Xe=!0,Ie["c"].sourceEvent.stopPropagation()}).on("drag",function(e){const t=Ve.panBoundary;Xe&&Ze(e,this);const n=Ie["i"](ze()("#d3-tree-overlay").get(0));let o,l;n[0]<t?(o="left",l=t-n[0]):n[0]>ze()("#d3-tree-overlay").width()-t?(o="right",l=n[0]-ze()("#d3-tree-overlay").width()+t):n[1]<t?(o="up",l=t-n[1]):n[1]>ze()("#d3-tree-overlay").height()-t?(o="down",l=n[1]-ze()("#d3-tree-overlay").height()+t):clearTimeout(Qe),void 0!==o&&(l=Ie["h"]([1e3,l]),tt(o,l/10)),e.x0+=Ie["c"].dy,e.y0+=Ie["c"].dx;const a=Ie["j"](this);a.attr("transform",`translate(${e.y0}, ${e.x0})`),et()}).on("end",function(){const e=Ve.root;if(void 0!==Ye){if(Ke){const t=Ye.parent.children.indexOf(Ye);t>-1&&(Ye.parent.children.splice(t,1),Ye.parent.children.length||delete Ye.parent.children),Je(Ke),Ke.children?Ke.children.push(Ye):Ke.children=[Ye],Ye.parent=Ke,e.sort(function(e,t){const n=e.x0-e.parent.x0,o=Math.abs(e.y0-e.parent.y0),l=t.x0-t.parent.x0,a=Math.abs(t.y0-t.parent.y0);return n/o-l/a})}clearTimeout(Qe),nt(this)}});var rt=at,it=function(e){Ie["c"].defaultPrevented||(e.children||e._children)&&(e.children?(e._children=e.children,delete e.children):(e.children=e._children,delete e._children),ct(e),He(e))};function st(e,t){e.depth=t;const n=e.children||e._children;return n&&n.length?e.height=1+Ie["g"](n.map(function(e){return st(e,t+1)})):e.height=0,e.height}var ct=function(e){let t=Ve.root;st(t,0);const n=Ve.svgGroup,o=Ve.duration,l=t.descendants(),a=t.links(),r=[];l.forEach(function(e){r.push((e.data.name||e.data.intent||e.data.type).length)});const i=Ie["g"](r),s=Ie["l"]().nodeSize([25,12*i]);t=s(t),n.selectAll("g.node .selectCircle").remove();const c=n.selectAll("g.node").data(l,function(e){return e.id||(e.id=++Ve.index)}),d=c.enter().append("g").call(rt).attr("transform",function(){return`translate(${e.y0}, ${e.x0})`}).on("click",ft).on("dblclick",it);d.append("circle").attr("r",0),d.append("text").style("fill-opacity",0),d.filter(function(e){return"content"!==e.data.type&&"root"!==e.data.type}).append("circle").attr("class","ghostCircle").attr("r",40).attr("pointer-events","mouseover").on("mouseover",ot).on("mouseout",lt);let u=d.merge(c).attr("class",function(e){return`node ${e.data.type}${e._children?" collapsed":""}`});u.filter(function(e){return e===pt.selectedNode}).append("circle").attr("class","selectCircle").attr("r",.75),u.filter(function(e){return e.data.type in{root:1,holder:2,intent:3}}).on(".drag",null),u.select("text").text(function(e){let t=!1;return e.ancestors().forEach(e=>{t|=e.data.index===Ve.debugRoot}),`${e.data.name||e.data.intent||e.data.type}${t&&e.data.text?`->${e.data.text}`:""}`}).attr("x",function(e){return e.children||e._children?-8:8}).attr("dy",function(e){return e.children||e._children?-3.5:8.5}).attr("class",function(e){return e.children||e._children?"internal":"leaf"}),u=u.transition().duration(o).attr("transform",function(e){return`translate(${e.y}, ${e.x})`}),u.select("circle").attr("r",5),u.select("text").style("fill-opacity",1);const p=c.exit().transition().duration(o).attr("transform",function(){return`translate(${e.y}, ${e.x})`}).remove();p.select("circle").attr("r",0),p.select("text").style("fill-opacity",0),n.selectAll("path.tipLink").remove();const h=n.selectAll("path.tipLink").data(Ve.route,0),f=h.enter().insert("path","g").attr("class","tipLink").attr("d",function(e){const t=e.target.x-e.source.x,n=e.target.y-e.source.y,o=Math.sqrt(t*t+n*n);return`M${e.source.y},${e.source.x}A${o},${o} 0 0,1 ${e.source.y},${e.source.x}`});f.merge(h).transition().delay(function(e,t){return Ve.duration*t}).duration(Ve.duration).attr("d",function(e){const t=e.target.x-e.source.x,n=e.target.y-e.source.y,o=Math.sqrt(t*t+n*n);return`M${e.source.y},${e.source.x}A${o},${o} 0 0,1 ${e.target.y},${e.target.x}`}).transition().attr("marker-end","url(#arrow)");const m=n.selectAll("path.link").data(a,function(e){return e.target.id}),g=m.enter().insert("path","g").attr("class","link").attr("d",function(){const t={x:e.x0,y:e.y0};return qe({source:t,target:t})});g.merge(m).transition().duration(o).attr("d",qe),m.exit().transition().duration(o).attr("d",function(){const t={x:e.x,y:e.y};return qe({source:t,target:t})}).remove(),l.forEach(function(e){e.x0=e.x,e.y0=e.y})};const dt=[];function ut(e){dt.push(e)}const pt={_selectedNode:void 0,get selectedNode(){return this._selectedNode},set selectedNode(e){this._selectedNode=e,dt.forEach(function(t){t(e)}),void 0!==e&&(ct(e),He(e))}};function ht(){const e=pt.selectedNode;pt.selectedNode=void 0,ct(e),He(e)}var ft=function(e){Ie["c"]&&Ie["c"].defaultPrevented||(pt.selectedNode=e)};function mt(e){const t={};Object.assign(t,e.data);for(const o in t)null!==t[o]&&void 0!==t[o]&&""!==t[o]||delete t[o];delete t.children;const n=e.children||e._children;return n&&(t.children=[],n.forEach(function(e){t.children.push(mt(e))})),t}var gt=function(e){return JSON.stringify(mt(e))};function vt(e){const t=[];return e.forEach(function(e,n,o){n>0&&t.push({source:{x:o[n-1][0],y:o[n-1][1]},target:{x:e[0],y:e[1]}})}),t}function bt(e,t,n,o=!1){const l=o||t.index===n;let a=[];return l&&(a.push([e.x,e.y]),void 0!==t.text&&(e.data.text=t.text)),void 0!==t.children&&t.children.forEach(function(t){e.children.forEach(function(e){e.data.index===t.index&&(a=a.concat(bt(e,t,n,l)))})}),a}var yt=bt,Nt={name:"D3Tree",components:{ControlPanel:Te,SentenceTree:Fe},data:function(){return{selectedNode:void 0,selectedData:void 0,height:"100vh",width:"100%",debug:!1}},watch:{selectedData:{deep:!0,handler:function(e){void 0!==e&&(ft(this.selectedNode),this.$refs.control.showSetting())}}},mounted:function(){Ve.baseSvg=Ie["j"]("#d3-tree-overlay"),Ve.svgGroup=Ve.baseSvg.append("g"),Ve.baseSvg.call(Re).on("dblclick.zoom",null),ut(this.onClick),this.load(Ve.root)},methods:{toggleDebug:function(e){this.debug=e,this.debug?this.height="70vh":this.height="100vh"},uploadSentence:function(e){this.$refs.sentence.load(e)},download:function(){const e=gt(Ve.root),t=document.createElement("a");t.download="syntaxTree.json",t.href=URL.createObjectURL(new Blob([e])),document.body.appendChild(t),t.click(),document.body.removeChild(t)},update:function(){ft(Ve.root)},appendIntent:function(e){const t=Ve.root;Je(t);const n=Ie["d"](e);n.parent=t,t.children.push(n),ct(t),ft(n)},onClick:function(e){this.selectedNode=e,this.selectedData=e&&e.data,this.$emit("onClick",e)},create:function(e){const t=Ve.root.children[0];Je(t),void 0===t.children&&(t.children=[]);const n=Ie["d"](e);n.parent=t,t.children.push(n),ct(t),ft(n)},load:function(e){Ve.root=Ie["d"](e),Ve.root.x0=0,Ve.root.y0=Ve.baseSvg.node().clientWidth/2,ft(Ve.root)},unclick:function(){ht()},copyTree:function(e){this.create(JSON.parse(gt(e)))},deleteNode:function(e){const t=e.parent;Je(t);const n=t.children.indexOf(e);n>-1&&(t.children.splice(n,1),t.children.length||delete t.children),ft(t)},sentenceClick:function(e,t){Ve.debugRoot=t,Ve.route=vt(yt(Ve.root,e,t)),ct(this.route)}}},xt=Nt,_t=(n("6195"),Object(r["a"])(xt,m,g,!1,null,null,null));_t.options.__file="d3-tree.vue";var wt=_t.exports,$t={name:"InteractiveSyntaxTree",components:{D3Tree:wt}},kt=$t,Ct=(n("344e"),Object(r["a"])(kt,h,f,!1,null,"19c3bdcd",null));Ct.options.__file="interactive-syntax-tree.vue";var St=Ct.exports,Tt={name:"Home",components:{InteractiveSyntaxTree:St}},jt=Tt,Ot=Object(r["a"])(jt,u,p,!1,null,null,null);Ot.options.__file="Home.vue";var It=Ot.exports;o["default"].use(d["a"]);var Et=new d["a"]({routes:[{path:"/",name:"home",component:It}]}),Dt=n("5c96"),Lt=n.n(Dt);n("0fae");o["default"].use(Lt.a),o["default"].config.productionTip=!1,new o["default"]({router:Et,render:e=>e(c)}).$mount("#app")},6195:function(e,t,n){"use strict";var o=n("5022"),l=n.n(o);l.a},7110:function(e,t,n){"use strict";var o=n("8e38"),l=n.n(o);l.a},"8e38":function(e,t,n){},aae2:function(e,t,n){},ab55:function(e,t,n){"use strict";var o=n("5459"),l=n.n(o);l.a},b08b:function(e,t,n){"use strict";var o=n("da11"),l=n.n(o);l.a},d55f:function(e,t,n){"use strict";var o=n("da3d"),l=n.n(o);l.a},da11:function(e,t,n){},da3d:function(e,t,n){}});
//# sourceMappingURL=app.09009826.js.map